{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["icon","completed","failed","exception","pending","running","color","pools","App","useState","isLoading","setIsLoading","groups","setGroups","pushMap","setPushMap","tasks","setTasks","testSuiteResults","setTestSuiteResults","usualSuspects","setUsualSuspects","pushAgeInDays","setPushAgeInDays","event","a","preventDefault","useEffect","length","forEach","suspect","startDate","moment","add","format","fetch","then","response","json","pushLog","pushIds","Object","keys","console","log","split","filter","pushId","changesets","files","ok","index","taskGroupId","taskId","_groups","_group","_pushMap","catch","err","error","_tasks","_task","includes","taskGroup","task","provisionerId","workerType","map","status","name","metadata","suite","pool","state","resolved","runs","slice","undefined","finally","reduce","sA","pA","t","Container","className","Spinner","animation","size","Table","sort","style","width","replace","poolSuitetasks","tA","tB","colSpan","Button","marginLeft","variant","margin","Badge","_state","striped","href","target","rel","title","user","date","toISOString","Form","onSubmit","Row","Col","Group","Label","Control","type","value","join","onChange","e","x","trim","xs","lg","_pushAgeInDays","parseInt","us","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","library","fas","fab","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.5c3cf891.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Badge from 'react-bootstrap/Badge';\nimport Button from 'react-bootstrap/Button';\nimport Col from 'react-bootstrap/Col';\nimport Container from 'react-bootstrap/Container';\nimport Form from 'react-bootstrap/Form';\nimport Row from 'react-bootstrap/Row';\nimport Spinner from 'react-bootstrap/Spinner';\nimport Table from 'react-bootstrap/Table';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport moment from 'moment';\n\nconst icon = {\n  completed: 'check-circle',\n  failed: 'times-circle',\n  exception: 'exclamation-circle',\n  pending: 'spinner',\n  running: 'cog'\n};\nconst color = {\n  completed: 'green',\n  failed: 'red',\n  exception: 'orange',\n  pending: 'gray',\n  running: 'darkgray'\n};\nconst pools = [\n  'gecko-t/win7-32-azure',\n  'gecko-t/win7-32-gpu-azure',\n  'gecko-t/win10-64-azure',\n  'gecko-t/win10-64-gpu-azure'\n];\n\nfunction App() {\n  const [isLoading, setIsLoading] = useState(true);\n  const [groups, setGroups] = useState([]);\n  const [pushMap, setPushMap] = useState({});\n  const [tasks, setTasks] = useState([]);\n  const [testSuiteResults, setTestSuiteResults] = useState({});\n  const [usualSuspects, setUsualSuspects] = useState([\n    'jmaher@mozilla.com',\n    'mcornmesser@mozilla.com',\n    'rthijssen@mozilla.com'\n  ]);\n  const [pushAgeInDays, setPushAgeInDays] = useState(14);\n\n  useEffect(() => {\n    if (!!usualSuspects && !!usualSuspects.length && !!pushAgeInDays) {\n      setGroups([]);\n      usualSuspects.forEach(suspect => {\n        const startDate = moment().add((0 - pushAgeInDays), 'days').format('YYYY-MM-DD');\n        fetch(`https://hg.mozilla.org/try/json-pushes?full=1&startdate=${startDate}&user=${suspect}`)\n          .then(response => response.json())\n          .then(pushLog => {\n            const pushIds = Object.keys(pushLog);\n            console.log(`checking ${pushIds.length} pushes by ${suspect.split('@')[0]} since ${startDate}`);\n            pushIds\n              .filter(pushId => pushLog[pushId].changesets[0].files[0] === 'try_task_config.json')\n              .forEach(pushId => {\n                fetch(`https://firefox-ci-tc.services.mozilla.com/api/index/v1/tasks/gecko.v2.try.pushlog-id.${pushId}`)\n                  .then(response => {\n                    if (response.ok) return response.json();\n                    throw response;\n                  })\n                  .then(index => {\n                    if (!!index.tasks && !!index.tasks.length) {\n                      const taskGroupId = index.tasks[0].taskId;\n                      // append the task group id to the list of task group ids (if not already present)\n                      setGroups(_groups => [\n                        ..._groups.filter(_group => _group !== taskGroupId),\n                        taskGroupId\n                      ]);\n                      // map task group id to push\n                      setPushMap(_pushMap => ({\n                        ..._pushMap,\n                        [taskGroupId]: {\n                          ...pushLog[pushId],\n                          pushId\n                        }\n                      }));\n                      console.log(`mapped task group: ${taskGroupId}, to push: ${pushId}, by: ${suspect.split('@')[0]}`);\n                    } else {\n                      console.log(`no tasks from push: ${pushId} by: ${suspect.split('@')[0]}`);\n                    }\n                  }).catch(err => {\n                    console.error(err);\n                  });\n              });\n          })\n          .catch(err => {\n            console.error(err);\n          });\n      });\n    }\n  }, [usualSuspects, pushAgeInDays]);\n  useEffect(() => {\n    if (!!groups && !!groups.length) {\n      setTasks(_tasks => _tasks.filter(_task => groups.includes(_task.taskGroupId)));\n    }\n    groups.forEach(taskGroupId => {\n      fetch(`https://firefox-ci-tc.services.mozilla.com/api/queue/v1/task-group/${taskGroupId}/list`)\n        .then(response => {\n          if (response.ok) return response.json();\n          throw response;\n        })\n        .then(taskGroup => {\n          setTasks(tasks => [\n            ...tasks.filter(_task => _task.taskGroupId !== taskGroupId),\n            ...taskGroup.tasks\n              .filter(_task => pools.includes(`${_task.task.provisionerId}/${_task.task.workerType}`))\n              .map(_task => ({\n                taskId: _task.status.taskId,\n                taskGroupId: _task.task.taskGroupId,\n                name: _task.task.metadata.name,\n                suite: _task.task.metadata.name.split('/')[1],\n                pool: `${_task.task.provisionerId}/${_task.task.workerType}`,\n                state: _task.status.state,\n                resolved: (!!_task.status.runs && !!_task.status.runs.length) ? _task.status.runs.slice(-1)[0].resolved : undefined\n              }))\n          ]);\n        })\n        .catch(err => {\n          console.error(err);\n        })\n        .finally(() => {\n          setIsLoading(false);\n        });\n    });\n  }, [groups]);\n\n  useEffect(() => {\n    setTestSuiteResults(testSuiteResults => ({\n      ...testSuiteResults,\n      ...tasks.reduce((sA, task) => {\n            let { suite } = task;\n            return {\n              ...sA,\n              [suite]: pools.reduce((pA, pool) => ({\n                ...pA,\n                [pool]: tasks.filter(t => t.suite === suite && t.pool === pool)\n              }), {})\n            };\n          }, {})\n    }));\n  }, [tasks]);\n\n  async function handleSubmit(event) {\n    event.preventDefault();\n  }\n\n  return (\n    <Container>\n      <h1 className=\"text-center\">is the grass greener on the azure side?</h1>\n      {\n        (isLoading)\n          ? (\n              <div className=\"text-center\">\n                <Spinner animation=\"border\" size=\"lg\" />\n              </div>\n            )\n          : null\n      }\n      <h2 className=\"text-muted text-center\">\n        tl;dr\n      </h2>\n      <Table>\n        {\n          pools.sort().map(pool => (\n            <tbody key={pool}>\n              <tr>\n                <td className=\"text-right\" style={{width: '50%'}}>\n                  <h6>\n                    {pool.split('/')[1].replace('-azure', '')}\n                  </h6>\n                </td>\n                <td style={{width: '50%'}}>\n                  {\n                    // inspect the last task result for each suite in the pool.\n                    // if all suites have been tested and all have a last task status of completed, call it green.\n                    Object.keys(testSuiteResults).map(suite => {\n                      let poolSuitetasks = tasks\n                        .filter(t => t.suite === suite && t.pool === pool)\n                        .sort((tA, tB) => (tA.resolved < tB.resolved) ? -1 : (tA.resolved > tB.resolved) ? 1 : 0);\n                      return !!poolSuitetasks.length && poolSuitetasks.slice(-1)[0].state === 'completed'\n                    }).includes(false)\n                      ? (\n                          <h6 style={{color: 'red'}}>\n                            no\n                          </h6>\n                        )\n                      : (\n                          <h6 style={{color: 'green'}}>\n                            yes\n                          </h6>\n                        )\n                  }\n                </td>\n              </tr>\n              <tr className=\"text-center\">\n                <td colSpan=\"2\">\n                  {\n                    Object.keys(color).map(state => (\n                      <Button\n                        key={state}\n                        style={{ marginLeft: '0.3em' }}\n                        variant=\"outline-secondary\"\n                        size=\"sm\">\n                        <FontAwesomeIcon\n                          style={{margin: '0 1px'}}\n                          className={['pending', 'running'].includes(state) ? 'fa-sm fa-spin' : 'fa-sm'}\n                          icon={icon[state]}\n                          color={color[state]} />\n                        &nbsp;\n                        <Badge variant=\"secondary\">\n                          {\n                            Object.keys(testSuiteResults).map(suite => {\n                              let poolSuitetasks = tasks\n                                .filter(t => t.suite === suite && t.pool === pool)\n                                .sort((tA, tB) => (tA.resolved < tB.resolved) ? -1 : (tA.resolved > tB.resolved) ? 1 : 0);\n                              return (!!poolSuitetasks.length)\n                                ? poolSuitetasks.slice(-1)[0].state\n                                : undefined\n                            }).filter(_state => _state === state).length\n                          } / {\n                            Object.keys(testSuiteResults).filter(suite => !!tasks.filter(t => t.suite === suite && t.pool === pool).length).length\n                          }\n                        </Badge>\n                      </Button>\n                    ))\n                  }\n                </td>\n              </tr>\n            </tbody>\n          ))\n        }\n      </Table>\n      <h2 className=\"text-muted text-center\">\n        detail\n      </h2>\n      <Table striped size=\"sm\">\n        <thead>\n          <tr>\n            <th className=\"text-muted text-right\">\n              suite\n            </th>\n            {\n              pools.sort().map(pool => (\n                <th key={pool} className=\"text-muted text-center\">\n                  {pool.split('/')[1].replace('-azure', '')}\n                </th>\n              ))\n            }\n          </tr>\n        </thead>\n        <tbody>\n          {\n            Object.keys(testSuiteResults).sort().map(suite => (\n              <tr key={suite}>\n                <td className=\"text-right\">{suite}</td>\n                {\n                  pools.sort().map(pool => (\n                    <td key={pool} className=\"text-center\">\n                      {\n                        testSuiteResults[suite][pool].sort((tA, tB) => (tA.resolved < tB.resolved) ? -1 : (tA.resolved > tB.resolved) ? 1 : 0).slice(-5).map(task => (\n                          <a key={task.taskId} href={`https://firefox-ci-tc.services.mozilla.com/tasks/${task.taskId}`} target=\"_blank\" rel=\"noreferrer\" title={`${pushMap[task.taskGroupId].user.split('@')[0]} (try/${pushMap[task.taskGroupId].pushId}): pushed: ${moment(pushMap[task.taskGroupId].date * 1000).toISOString()} resolved: ${task.resolved}`}>\n                            <FontAwesomeIcon\n                              style={{margin: '0 1px'}}\n                              className={['pending', 'running'].includes(task.state) ? 'fa-sm fa-spin' : 'fa-sm'}\n                              icon={icon[task.state]}\n                              color={color[task.state]} />\n                          </a>\n                        ))\n                      }\n                    </td>\n                  ))\n                }\n              </tr>\n            ))\n          }\n        </tbody>\n      </Table>\n      <Form onSubmit={handleSubmit}>\n        <Row>\n          <Col>\n            <Form.Group>\n              <Form.Label>include try pushes by</Form.Label>\n              <Form.Control\n                type=\"text\"\n                value={usualSuspects.join(', ')}\n                onChange={e => { const { value } = e.target; setUsualSuspects(value.split(',').map(x => x.trim())); }} />\n            </Form.Group>\n          </Col>\n          <Col xs lg=\"2\">\n            <Form.Group>\n              <Form.Label>push age in days</Form.Label>\n              <Form.Control\n                type=\"number\"\n                value={pushAgeInDays}\n                onChange={e => { const _pushAgeInDays = parseInt(e.target.value); if (_pushAgeInDays > -1 && _pushAgeInDays < 31) { setPushAgeInDays(_pushAgeInDays); }; }} />\n            </Form.Group>\n          </Col>\n        </Row>\n      </Form>\n      <ul>\n        <li>\n          status legend:\n          {\n            Object.keys(color).map(state => (\n              <div key={state}>\n                <FontAwesomeIcon\n                  style={{margin: '0 1px'}}\n                  className={['pending', 'running'].includes(state) ? 'fa-sm fa-spin' : 'fa-sm'}\n                  icon={icon[state]}\n                  color={color[state]} />\n                &nbsp;\n                {state}\n              </div>\n            ))\n          }\n        </li>\n        <li className=\"text-muted\">\n          task status counts, in the tl;dr table, are determined by the last task run for the test suite and platform.\n        </li>\n        <li className=\"text-muted\">\n          task status indicators, in the detail table, are limited to the five most recent task runs for the test suite and platform.\n        </li>\n        <li className=\"text-muted\">\n          the try push-log is used to find task groups containing tasks that are configured to run on azure worker types for pushes in the last {pushAgeInDays} days, from a configured subset of users including: {usualSuspects.map(us => us.split('@')[0]).join(', ')}.\n        </li>\n        <li>\n          the code for this github page is hosted at: <a href=\"https://github.com/mozilla-platform-ops/are-we-green-on-azure-yet\">github.com/mozilla-platform-ops/are-we-green-on-azure-yet</a>.\n        </li>\n        <li>\n          the work to green up tests is tracked in: <a href=\"https://bugzilla.mozilla.org/show_bug.cgi?id=1676850\">bug 1676850</a>.\n        </li>\n      </ul>\n    </Container>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { fas } from '@fortawesome/free-solid-svg-icons';\nimport { fab } from '@fortawesome/free-brands-svg-icons';\n\nlibrary.add(fas, fab);\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}