{"version":3,"sources":["App.js","reportWebVitals.js","index.js"],"names":["icon","completed","failed","exception","pending","running","color","App","useState","setIsLoading","pools","groups","tasks","setTasks","testSuiteResults","setTestSuiteResults","useEffect","forEach","taskGroupId","fetch","then","response","ok","json","taskGroup","filter","_task","includes","task","provisionerId","workerType","map","taskId","status","name","metadata","suite","split","pool","state","resolved","runs","length","slice","undefined","catch","err","console","error","finally","reduce","sA","pA","t","Container","Table","striped","size","className","sort","replace","Object","keys","href","target","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","library","add","fas","fab","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.6b174d44.chunk.js","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Table from 'react-bootstrap/Table';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\n\nconst icon = {\n  completed: 'check-circle',\n  failed: 'times-circle',\n  exception: 'exclamation-circle',\n  pending: 'spinner',\n  running: 'play-circle'\n};\nconst color = {\n  completed: 'green',\n  failed: 'red',\n  exception: 'amber',\n  pending: 'gray',\n  running: 'blue'\n};\n\nfunction App() {\n  const [isLoading, setIsLoading] = useState(true);\n  const [pools, setPools] = useState([\n    'gecko-t/win7-32-azure',\n    'gecko-t/win7-32-gpu-azure',\n    'gecko-t/win10-64-azure',\n    'gecko-t/win10-64-gpu-azure'\n  ]);\n  const [groups, setGroups] = useState([\n    'cq_jFOOGTryTs8Q3VoO9kg',\n    'YAzpJW1sSAaGZ0NKw4tHCw',\n    'S8UhCdtwSfS7ciycZFViIQ'\n  ]);\n  const [tasks, setTasks] = useState([]);\n  const [testSuiteResults, setTestSuiteResults] = useState({});\n  \n  useEffect(() => {\n    groups.forEach(taskGroupId => {\n      fetch(`https://firefox-ci-tc.services.mozilla.com/api/queue/v1/task-group/${taskGroupId}/list`)\n        .then(response => {\n          if (response.ok) return response.json();\n          throw response;\n        })\n        .then(taskGroup => {\n          setTasks(tasks => [\n            ...tasks.filter(_task => _task.taskGroupId !== taskGroupId),\n            ...taskGroup.tasks\n              .filter(_task => pools.includes(`${_task.task.provisionerId}/${_task.task.workerType}`))\n              .map(_task => ({\n                taskId: _task.status.taskId,\n                taskGroupId: _task.task.taskGroupId,\n                name: _task.task.metadata.name,\n                suite: _task.task.metadata.name.split('/')[1],\n                pool: `${_task.task.provisionerId}/${_task.task.workerType}`,\n                state: _task.status.state,\n                resolved: (!!_task.status.runs && !!_task.status.runs.length) ? _task.status.runs.slice(-1)[0].resolved : undefined\n              }))\n          ]);\n        })\n        .catch(err => {\n          console.error(err);\n        })\n        .finally(() => {\n          setIsLoading(false);\n        });\n    });\n  }, [groups]);\n\n  useEffect(() => {\n    setTestSuiteResults(testSuiteResults => ({\n      ...testSuiteResults,\n      ...tasks.reduce((sA, task) => {\n            let { suite } = task;\n            return {\n              ...sA,\n              [suite]: pools.reduce((pA, pool) => ({\n                ...pA,\n                [pool]: tasks.filter(t => t.suite === suite && t.pool === pool)\n              }), {})\n            };\n          }, {})\n    }));\n  }, [pools, tasks]);\n\n  return (\n    <Container>\n      <h1>are we green on azure yet?</h1>\n      <Table striped size=\"sm\">\n        <thead>\n          <tr>\n            <th className=\"text-muted text-right\">\n              suite\n            </th>\n            {\n              pools.sort().map(pool => (\n                <th className=\"text-muted text-center\">\n                  {pool.split('/')[1].replace('-azure', '')}\n                </th>\n              ))\n            }\n          </tr>\n        </thead>\n        <tbody>\n          {\n            Object.keys(testSuiteResults).sort().map(suite => (\n              <tr>\n                <td className=\"text-right\">{suite}</td>\n                {\n                  pools.sort().map(pool => (\n                    <td className=\"text-center\">\n                      {\n                        testSuiteResults[suite][pool].map(task => (\n                          <a href={`https://firefox-ci-tc.services.mozilla.com/tasks/${task.taskId}`} target=\"_blank\">\n                            <FontAwesomeIcon\n                              className=\"fa-sm\"\n                              icon={icon[task.state]}\n                              color={color[task.state]} />\n                          </a>\n                        ))\n                      }\n                    </td>\n                  ))\n                }\n              </tr>\n            ))\n          }\n        </tbody>\n      </Table>\n      <p>\n        the code for this github page is hosted at: <a href=\"https://github.com/mozilla-platform-ops/are-we-green-on-azure-yet\">github.com/mozilla-platform-ops/are-we-green-on-azure-yet</a>.\n      </p>\n    </Container>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport 'bootstrap/dist/css/bootstrap.min.css';\nimport { library } from '@fortawesome/fontawesome-svg-core';\nimport { fas } from '@fortawesome/free-solid-svg-icons';\nimport { fab } from '@fortawesome/free-brands-svg-icons';\n\nlibrary.add(fas, fab);\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}